<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VIDRACEIROS // HUB</title>

  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Inter:wght@300;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#040607;
      --bg1:#060a0c;
      --panel:#0b1214;
      --panel2:#0f1a1d;
      --glass:#0fe6c4;
      --glass2:#00b9ff;
      --ink:#d9f7f1;
      --muted:#7aa39a;
      --line:rgba(15,230,196,.18);
      --line2:rgba(0,185,255,.16);
      --danger:#ff375a;
      --warn:#ffcc00;
      --ok:#73ff6a;
      --shadow: rgba(0,0,0,.6);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      background:
        radial-gradient(circle at 15% -20%, rgba(15,230,196,.18) 0, transparent 40%),
        radial-gradient(circle at 115% 10%, rgba(0,185,255,.12) 0, transparent 42%),
        linear-gradient(180deg, var(--bg1) 0, #000 100%);
      color:var(--ink);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      overflow:hidden;
    }

    /* overlays */
    .grid{
      position:fixed; inset:0; z-index:-3; pointer-events:none;
      background-image:
        linear-gradient(rgba(15,230,196,.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0,185,255,.05) 1px, transparent 1px);
      background-size: 56px 56px;
      opacity:.25;
    }
    .scanlines{
      position:fixed; inset:0; z-index:999; pointer-events:none;
      background: linear-gradient(rgba(0,0,0,0) 50%, rgba(0,0,0,.45) 50%);
      background-size:100% 2px;
      opacity:.55;
      mix-blend-mode: soft-light;
    }
    .vignette{
      position:fixed; inset:0; z-index:998; pointer-events:none;
      background: radial-gradient(circle at center, rgba(0,0,0,0) 55%, rgba(0,0,0,.92) 100%);
    }
    .grain{
      position:fixed; inset:0; z-index:997; pointer-events:none;
      opacity:.10;
      background:
        repeating-radial-gradient(circle at 20% 30%, rgba(255,255,255,.08) 0 1px, transparent 1px 4px),
        repeating-radial-gradient(circle at 80% 70%, rgba(255,255,255,.05) 0 1px, transparent 1px 5px);
      mix-blend-mode: overlay;
      animation: grain 1.6s steps(2,end) infinite;
    }
    @keyframes grain{
      0%{transform:translate(0,0)}
      25%{transform:translate(-1%,1%)}
      50%{transform:translate(1%,-1%)}
      75%{transform:translate(1%,1%)}
      100%{transform:translate(0,0)}
    }
    @media (prefers-reduced-motion: reduce){
      .grain{animation:none}
      .glitch, .pulse, .floaty, .wipe{animation:none !important}
      *{scroll-behavior:auto !important}
    }

    /* SPLASH */
    .splash{
      position:fixed; inset:0; z-index:2000;
      display:grid; place-items:center;
      background:
        radial-gradient(circle at 50% 30%, rgba(15,230,196,.16) 0, transparent 40%),
        linear-gradient(180deg, #020304 0, #000 100%);
      overflow:hidden;
    }
    .splash::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        linear-gradient(90deg, transparent, rgba(15,230,196,.18), transparent);
      transform: translateX(-70%);
      animation: sweep 3.4s infinite;
      opacity:.7;
      pointer-events:none;
    }
    @keyframes sweep{
      0%{transform:translateX(-80%)}
      55%{transform:translateX(120%)}
      100%{transform:translateX(120%)}
    }

    .splash-card{
      width:min(980px, 92vw);
      border:1px solid rgba(15,230,196,.22);
      background: linear-gradient(180deg, rgba(0,0,0,.72), rgba(0,0,0,.45));
      box-shadow: 0 0 60px rgba(15,230,196,.08);
      padding: 26px 22px;
      position:relative;
      overflow:hidden;
    }
    .splash-top{
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
      margin-bottom: 18px;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      color:var(--muted);
      font-size:12px;
    }
    .seal{
      border:1px solid rgba(0,185,255,.22);
      padding:6px 10px;
      color:#b7fff4;
      background: rgba(0,185,255,.06);
    }
    .logo{
      display:grid; grid-template-columns: 88px 1fr; gap:16px;
      align-items:center;
      padding: 16px 14px;
      border:1px solid rgba(15,230,196,.18);
      background: linear-gradient(180deg, rgba(15,230,196,.07), rgba(0,0,0,.45));
    }

    .mark{
      width:88px; height:88px;
      border-radius: 16px;
      border:1px solid rgba(15,230,196,.25);
      background:
        radial-gradient(circle at 30% 20%, rgba(15,230,196,.35) 0, transparent 45%),
        radial-gradient(circle at 70% 70%, rgba(0,185,255,.25) 0, transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.06), rgba(0,0,0,.2));
      position:relative;
      overflow:hidden;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.04), 0 0 20px rgba(15,230,196,.08);
    }
    .mark::before{
      content:"";
      position:absolute; inset:-40%;
      background:
        conic-gradient(from 180deg,
          rgba(15,230,196,.0),
          rgba(15,230,196,.55),
          rgba(0,185,255,.0),
          rgba(0,185,255,.45),
          rgba(15,230,196,.0));
      animation: spin 3.2s linear infinite;
      opacity:.7;
      filter: blur(.2px);
    }
    @keyframes spin{ to { transform: rotate(360deg);} }

    .mark::after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
      transform: translateX(-70%) skewX(-15deg);
      animation: shimmer 2.6s infinite;
      opacity:.55;
    }
    @keyframes shimmer{
      0%{transform:translateX(-80%) skewX(-15deg)}
      50%{transform:translateX(130%) skewX(-15deg)}
      100%{transform:translateX(130%) skewX(-15deg)}
    }

    .brand h1{
      font-size: 38px;
      line-height:1.05;
      letter-spacing: 2px;
      text-transform:uppercase;
      font-weight: 800;
      margin-bottom: 6px;
      background: linear-gradient(90deg, #eafffb, rgba(15,230,196,.95), rgba(0,185,255,.9));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .brand p{
      color:#c7ebe5;
      line-height:1.8;
      font-size: 14px;
      max-width: 760px;
    }

    .splash-actions{
      margin-top: 18px;
      display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between;
    }
    .btn{
      border:1px solid rgba(15,230,196,.28);
      background: rgba(15,230,196,.08);
      color:#d8fffb;
      padding: 12px 14px;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      cursor:pointer;
      transition:.2s;
      box-shadow: 0 0 22px rgba(15,230,196,.08);
    }
    .btn:hover{ background: rgba(15,230,196,.16); border-color: rgba(15,230,196,.5); }
    .btn.primary{
      border-color: rgba(0,185,255,.35);
      background: rgba(0,185,255,.10);
    }
    .btn.primary:hover{ background: rgba(0,185,255,.18); }

    .hint{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      color: var(--muted);
      font-size: 12px;
    }

    /* APP LAYOUT */
    .app{
      position:fixed; inset:0;
      display:grid;
      grid-template-columns: 320px 1fr 340px;
      grid-template-rows: auto 1fr;
      gap: 0;
      opacity:0;
      pointer-events:none;
      transform: scale(.995);
      transition: opacity .35s ease, transform .35s ease;
    }
    .app.ready{
      opacity:1;
      pointer-events:auto;
      transform: scale(1);
    }

    .topbar{
      grid-column: 1 / -1;
      background: linear-gradient(180deg, rgba(0,0,0,.88) 0, rgba(0,0,0,.55) 100%);
      border-bottom: 1px solid rgba(15,230,196,.16);
      backdrop-filter: blur(10px);
    }
    .topbar-inner{
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
    }
    .top-left{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      font-family:"Share Tech Mono",monospace;
      letter-spacing:2px;
      text-transform:uppercase;
      color: var(--muted);
      font-size: 12px;
    }
    .chip{
      border:1px solid rgba(15,230,196,.22);
      background: rgba(15,230,196,.06);
      color:#bffdf4;
      padding: 5px 10px;
      border-radius: 999px;
    }
    .top-right{
      display:flex; align-items:center; gap:10px; flex-wrap:wrap;
      font-family:"Share Tech Mono",monospace;
      letter-spacing:2px;
      text-transform:uppercase;
      color: var(--muted);
      font-size: 12px;
    }
    .clock{ color:#d8fffb; }

    /* LEFT: categories */
    .sidebar{
      grid-row:2;
      background: linear-gradient(180deg, rgba(0,0,0,.55) 0, rgba(0,0,0,.35) 100%);
      border-right: 1px solid rgba(15,230,196,.14);
      overflow:auto;
      padding: 14px;
    }
    .side-title{
      font-family:"Share Tech Mono",monospace;
      letter-spacing:2px;
      text-transform:uppercase;
      color: rgba(15,230,196,.95);
      font-size: 12px;
      border-left:3px solid rgba(15,230,196,.9);
      padding-left: 10px;
      margin-bottom: 12px;
    }
    .side-block{
      border: 1px solid rgba(15,230,196,.14);
      background: rgba(0,0,0,.35);
      padding: 12px;
      margin-bottom: 12px;
    }
    .side-block p{
      color:#cbeae5;
      font-size: 13px;
      line-height:1.75;
      margin-top: 8px;
    }
    .cat-list{
      display:grid; gap:8px;
      margin-top: 10px;
    }
    .cat{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      border:1px solid rgba(15,230,196,.12);
      background: rgba(15,230,196,.05);
      padding: 10px 10px;
      cursor:pointer;
      transition:.15s;
      font-family:"Share Tech Mono",monospace;
      letter-spacing:1px;
      text-transform:uppercase;
      font-size: 12px;
      color:#cffff8;
    }
    .cat:hover{ border-color: rgba(15,230,196,.35); background: rgba(15,230,196,.09); }
    .cat.active{
      border-color: rgba(0,185,255,.35);
      background: rgba(0,185,255,.08);
      box-shadow: 0 0 18px rgba(0,185,255,.08);
    }
    .count{
      color: var(--muted);
      border:1px solid rgba(255,255,255,.07);
      padding: 2px 8px;
      border-radius:999px;
      background: rgba(0,0,0,.35);
    }

    /* CENTER: marketplace */
    .main{
      grid-row:2;
      overflow:auto;
      padding: 14px 14px 120px;
    }
    .searchbar{
      border: 1px solid rgba(15,230,196,.18);
      background: rgba(0,0,0,.35);
      padding: 10px;
      display:flex; gap:10px; align-items:center;
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
    }
    .searchbar input{
      flex: 1;
      background: transparent;
      border:none;
      outline:none;
      color: var(--ink);
      font-size: 14px;
      padding: 8px 6px;
    }
    .searchbar input::placeholder{ color: rgba(199,235,229,.55); }
    .pillbtn{
      border:1px solid rgba(15,230,196,.22);
      background: rgba(15,230,196,.06);
      color:#d8fffb;
      padding: 8px 10px;
      cursor:pointer;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 12px;
      transition:.15s;
    }
    .pillbtn:hover{ background: rgba(15,230,196,.12); border-color: rgba(15,230,196,.38); }

    .headline{
      margin: 14px 0 10px;
      display:flex; align-items:flex-end; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }
    .headline h2{
      font-size: 18px;
      letter-spacing: 1px;
      text-transform:uppercase;
      font-weight: 800;
      color: #eafffb;
    }
    .headline .sub{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 12px;
      color: var(--muted);
    }

    .products{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 12px;
    }
    @media (max-width: 1200px){ .app{ grid-template-columns: 300px 1fr 320px; } }
    @media (max-width: 1060px){
      .app{ grid-template-columns: 300px 1fr; }
      .rightbar{ display:none; }
      .products{ grid-template-columns: 1fr; }
    }
    .card{
      border:1px solid rgba(15,230,196,.16);
      background: linear-gradient(180deg, rgba(15,230,196,.05), rgba(0,0,0,.42));
      padding: 12px;
      box-shadow: 0 0 26px rgba(0,0,0,.35);
      position:relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(90deg, transparent, rgba(15,230,196,.10), transparent);
      transform: translateX(-70%);
      opacity:0;
      transition:.2s;
      pointer-events:none;
    }
    .card:hover::before{ opacity:1; transform: translateX(120%); transition: .55s; }
    .card-top{
      display:flex; gap:10px; align-items:flex-start;
    }
    .thumb{
      width:64px; height:64px; border-radius: 12px;
      border:1px solid rgba(0,185,255,.18);
      background:
        radial-gradient(circle at 25% 25%, rgba(15,230,196,.25), transparent 55%),
        radial-gradient(circle at 75% 75%, rgba(0,185,255,.18), transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.06), rgba(0,0,0,.20));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
      position:relative;
      overflow:hidden;
    }
    .thumb .glyph{
      position:absolute; inset:0;
      display:grid; place-items:center;
      font-family:"Share Tech Mono",monospace;
      font-size: 18px;
      letter-spacing:2px;
      color: rgba(234,255,251,.85);
      opacity:.9;
    }
    .pname{
      flex:1;
      min-width: 0;
    }
    .pname h3{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 13px;
      color:#eafffb;
      margin-bottom: 6px;
    }
    .meta{
      display:flex; gap:8px; flex-wrap:wrap;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 11px;
      color: var(--muted);
    }
    .tag{
      border:1px solid rgba(15,230,196,.14);
      padding: 3px 8px;
      background: rgba(0,0,0,.35);
    }
    .tag.lock{ border-color: rgba(255,55,90,.30); color:#ff9fb0; }
    .tag.hot{ border-color: rgba(255,204,0,.25); color:#ffe08a; }
    .desc{
      margin-top: 10px;
      color:#cbeae5;
      font-size: 13px;
      line-height: 1.8;
      text-align: justify;
    }
    .card-actions{
      margin-top: 10px;
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap; align-items:center;
      border-top:1px dashed rgba(15,230,196,.14);
      padding-top: 10px;
    }
    .price{
      font-family:"Share Tech Mono",monospace;
      letter-spacing:2px;
      text-transform:uppercase;
      font-size: 12px;
      color:#bffdf4;
    }
    .cta{
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .btn2{
      border:1px solid rgba(15,230,196,.22);
      background: rgba(15,230,196,.06);
      color:#d8fffb;
      padding: 8px 10px;
      cursor:pointer;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 12px;
      transition:.15s;
    }
    .btn2:hover{ background: rgba(15,230,196,.12); border-color: rgba(15,230,196,.38); }
    .btn2.primary{
      border-color: rgba(0,185,255,.30);
      background: rgba(0,185,255,.09);
    }
    .btn2.primary:hover{ background: rgba(0,185,255,.16); }
    .btn2.danger{
      border-color: rgba(255,55,90,.35);
      background: rgba(255,55,90,.07);
      color:#ffd2d9;
    }
    .btn2.danger:hover{ background: rgba(255,55,90,.12); }

    /* RIGHT: cart/messages */
    .rightbar{
      grid-row:2;
      background: linear-gradient(180deg, rgba(0,0,0,.55) 0, rgba(0,0,0,.35) 100%);
      border-left: 1px solid rgba(15,230,196,.14);
      overflow:auto;
      padding: 14px;
    }
    .panel{
      border:1px solid rgba(15,230,196,.14);
      background: rgba(0,0,0,.35);
      padding: 12px;
      margin-bottom: 12px;
    }
    .panel-h{
      display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .panel-h .t{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      color: rgba(15,230,196,.95);
      font-size: 12px;
    }
    .panel-h .mini{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 11px;
      color: var(--muted);
      border:1px solid rgba(255,255,255,.08);
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(0,0,0,.35);
    }
    .row{
      display:flex; justify-content:space-between; gap:10px;
      padding: 6px 0;
      border-bottom:1px dashed rgba(15,230,196,.12);
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:1px;
      font-size: 12px;
      color:#cffff8;
    }
    .row:last-child{ border-bottom:none; }
    .row .k{ color: var(--muted); }
    .cart-items{
      margin-top: 10px;
      display:grid; gap:10px;
    }
    .cart-item{
      border:1px solid rgba(0,185,255,.14);
      background: rgba(0,0,0,.35);
      padding: 10px;
    }
    .cart-item .n{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 12px;
      color:#eafffb;
      margin-bottom: 6px;
    }
    .cart-item .m{
      color: var(--muted);
      font-family:"Share Tech Mono",monospace;
      letter-spacing:1px;
      font-size: 11px;
      text-transform:uppercase;
    }
    .msglog{
      height: 210px;
      overflow:auto;
      border:1px solid rgba(15,230,196,.12);
      background: #000;
      padding: 10px;
      font-family:"Share Tech Mono",monospace;
      font-size: 12px;
      line-height: 1.55;
      color:#cffff8;
    }
    .msgline{ margin-bottom: 8px; color:#cffff8; }
    .msgline.dim{ color: var(--muted); }
    .msgline.bad{ color: #ff9fb0; }
    .msgline.ok{ color: #b7ffb0; }
    .msgsend{
      margin-top: 10px;
      display:flex; gap:10px;
    }
    .msgsend input{
      flex:1;
      background: rgba(0,0,0,.45);
      border:1px solid rgba(15,230,196,.16);
      color: var(--ink);
      padding: 10px 10px;
      outline:none;
      font-size: 13px;
    }

    /* MODAL */
    .modal{
      position:fixed; inset:0; z-index:2100;
      display:none; place-items:center;
      background: rgba(0,0,0,.65);
      backdrop-filter: blur(10px);
      padding: 18px;
    }
    .modal.show{ display:grid; }
    .modal-card{
      width:min(980px, 96vw);
      border:1px solid rgba(0,185,255,.22);
      background: linear-gradient(180deg, rgba(0,0,0,.78), rgba(0,0,0,.55));
      box-shadow: 0 0 60px rgba(0,185,255,.10);
      padding: 16px;
      position:relative;
      overflow:hidden;
    }
    .modal-card::before{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(90deg, transparent, rgba(0,185,255,.18), transparent);
      transform: translateX(-70%);
      animation: sweep2 3.2s infinite;
      opacity:.55;
      pointer-events:none;
    }
    @keyframes sweep2{
      0%{transform:translateX(-80%)}
      55%{transform:translateX(120%)}
      100%{transform:translateX(120%)}
    }
    .modal-h{
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex-wrap:wrap;
      border-bottom: 1px solid rgba(0,185,255,.14);
      padding-bottom: 10px;
      margin-bottom: 10px;
    }
    .modal-h h3{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 14px;
      color:#eafffb;
    }
    .x{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.35);
      color:#cffff8;
      padding: 6px 10px;
      cursor:pointer;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 12px;
    }
    .modal-body{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 12px;
    }
    @media (max-width: 900px){ .modal-body{ grid-template-columns:1fr; } }
    .box{
      border:1px solid rgba(0,185,255,.14);
      background: rgba(0,0,0,.35);
      padding: 12px;
    }
    .box .t{
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      color: rgba(0,185,255,.95);
      font-size: 12px;
      border-left: 3px solid rgba(0,185,255,.95);
      padding-left: 10px;
      margin-bottom: 10px;
    }
    .box p{
      color:#cbeae5;
      font-size: 13px;
      line-height: 1.85;
      text-align: justify;
      margin-bottom: 10px;
    }
    .facts{
      display:grid; gap:8px;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:1px;
      font-size: 12px;
      color:#cffff8;
    }
    .facts .f{
      display:flex; justify-content:space-between; gap:10px;
      border-bottom: 1px dashed rgba(0,185,255,.12);
      padding-bottom: 6px;
    }
    .facts .f:last-child{ border-bottom:none; padding-bottom:0; }

    /* Toast */
    .toastwrap{
      position:fixed; right: 16px; bottom: 16px; z-index:3000;
      display:grid; gap:10px;
      pointer-events:none;
    }
    .toast{
      width: min(520px, 92vw);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.72);
      padding: 12px;
      box-shadow: 0 0 40px rgba(0,0,0,.65);
      pointer-events:auto;
      transform: translateY(10px);
      opacity:0;
      animation: toastIn .28s ease forwards;
    }
    @keyframes toastIn{ to { transform: translateY(0); opacity:1; } }
    .toast .h{
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      font-family:"Share Tech Mono",monospace;
      text-transform:uppercase;
      letter-spacing:2px;
      font-size: 12px;
      margin-bottom: 6px;
    }
    .toast .h .k{ color: var(--muted); }
    .toast .h .s{ color:#eafffb; }
    .toast .b{
      color:#cbeae5;
      font-size: 13px;
      line-height: 1.75;
    }
    .toast.bad{ border-color: rgba(255,55,90,.35); }
    .toast.bad .h .s{ color:#ffd2d9; }
    .toast.ok{ border-color: rgba(115,255,106,.30); }
    .toast.ok .h .s{ color:#ccffd0; }

    /* Subtle “system drift” */
    .glitch{
      animation: glitch 7s infinite;
    }
    @keyframes glitch{
      0%, 100% { filter: none; }
      48% { filter: none; }
      49% { filter: saturate(1.25) contrast(1.15) hue-rotate(5deg); }
      50% { filter: none; }
      75% { filter: none; }
      76% { filter: saturate(1.35) contrast(1.12) hue-rotate(-7deg); }
      77% { filter: none; }
    }
  </style>
</head>

<body class="glitch">
  <div class="grid"></div>
  <div class="grain"></div>
  <div class="scanlines"></div>
  <div class="vignette"></div>

  <!-- SPLASH / INTRO -->
  <section class="splash" id="splash" aria-label="Introdução Vidraceiros">
    <div class="splash-card">
      <div class="splash-top">
        <div>nó: <span style="color:#bffdf4">VIDRACEIROS</span> // hub</div>
        <div class="seal">handshake: aguardando</div>
      </div>

      <div class="logo" role="button" tabindex="0" id="enterLogo" aria-label="Entrar no hub">
        <div class="mark" aria-hidden="true"></div>
        <div class="brand">
          <h1>Vidraceiros</h1>
          <p>
            Catálogo indexado em vitrines, lotes e remessas. O hub mantém o que precisa ser visto — e cobre o que não pode ser lembrado.
            Clique para abrir a vitrine completa.
          </p>
        </div>
      </div>

      <div class="splash-actions">
        <button class="btn primary" id="enterBtn">Abrir vitrine</button>
        <div class="hint">Dica: use a busca e as categorias para filtrar lotes.</div>
      </div>
    </div>
  </section>

  <!-- APP -->
  <div class="app" id="app">
    <header class="topbar">
      <div class="topbar-inner">
        <div class="top-left">
          <span class="chip">VIDRACEIROS</span>
          <span>hub // vitrine</span>
          <span class="chip">status: <span style="color:#bffdf4">online</span></span>
          <span class="chip">integridade: <span style="color:#ffe08a">variável</span></span>
        </div>
        <div class="top-right">
          <span>sessão: <span style="color:#eafffb" id="sess">anônima</span></span>
          <span class="chip">relógio: <span class="clock" id="clock">--:--:--</span></span>
        </div>
      </div>
    </header>

    <!-- LEFT -->
    <aside class="sidebar">
      <div class="side-title">categorias</div>

      <div class="side-block">
        <div style="font-family:'Share Tech Mono',monospace;text-transform:uppercase;letter-spacing:2px;color:#eafffb;font-size:12px;">
          vitrine destacada
        </div>
        <p>
          Listagens podem estar “lacradas” por nível. Itens sensíveis aparecem com bloqueio automático.
        </p>
      </div>

      <div class="side-block">
        <div style="font-family:'Share Tech Mono',monospace;text-transform:uppercase;letter-spacing:2px;color:#eafffb;font-size:12px;">
          filtros rápidos
        </div>
        <div class="cat-list" id="catList"></div>
      </div>

      <div class="side-block">
        <div style="font-family:'Share Tech Mono',monospace;text-transform:uppercase;letter-spacing:2px;color:#eafffb;font-size:12px;">
          política de vitrine
        </div>
        <p>
          Operações de compra exigem contrato verificado e chave de remessa. Sem isso, o hub só exibe o catálogo.
        </p>
      </div>
    </aside>

    <!-- CENTER -->
    <main class="main">
      <div class="searchbar">
        <button class="pillbtn" id="btnAll">Tudo</button>
        <button class="pillbtn" id="btnHot">Em destaque</button>
        <button class="pillbtn" id="btnLocked">Lacrados</button>
        <input id="q" type="text" placeholder="Buscar por nome, tag ou código de vitrine…" />
        <button class="pillbtn" id="btnClear">Limpar</button>
      </div>

      <div class="headline">
        <h2 id="headlineTitle">Vitrine geral</h2>
        <div class="sub"><span id="countShown">0</span> itens exibidos</div>
      </div>

      <section class="products" id="products"></section>
    </main>

    <!-- RIGHT -->
    <aside class="rightbar">
      <div class="panel">
        <div class="panel-h">
          <div class="t">painel</div>
          <div class="mini" id="badge">modo: catálogo</div>
        </div>

        <div class="row"><span class="k">saldo:</span><span>—</span></div>
        <div class="row"><span class="k">carteira:</span><span>indisponível</span></div>
        <div class="row"><span class="k">remessas:</span><span>bloqueadas</span></div>
        <div class="row"><span class="k">nível:</span><span id="lvl">visitante</span></div>
      </div>

      <div class="panel">
        <div class="panel-h">
          <div class="t">carrinho</div>
          <div class="mini"><span id="cartCount">0</span> itens</div>
        </div>

        <div class="cart-items" id="cart"></div>

        <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn2 primary" id="checkout">finalizar</button>
          <button class="btn2" id="empty">esvaziar</button>
        </div>
      </div>

      <div class="panel">
        <div class="panel-h">
          <div class="t">mensagens</div>
          <div class="mini">canal</div>
        </div>

        <div class="msglog" id="msglog" aria-label="Log de mensagens">
          <div class="msgline dim">[hub] Conectado ao nó Vidraceiros.</div>
          <div class="msgline dim">[hub] Canal de vendedor exige chave de contrato.</div>
          <div class="msgline">[info] Use “detalhes” para inspecionar lotes.</div>
        </div>

        <div class="msgsend">
          <input id="msg" type="text" placeholder="Enviar mensagem para o hub…" />
          <button class="btn2" id="send">enviar</button>
        </div>
      </div>
    </aside>
  </div>

  <!-- MODAL -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-label="Detalhes do item">
    <div class="modal-card">
      <div class="modal-h">
        <div>
          <h3 id="mTitle">—</h3>
          <div class="meta" id="mMeta"></div>
        </div>
        <button class="x" id="mClose">fechar</button>
      </div>

      <div class="modal-body">
        <div class="box">
          <div class="t">descrição</div>
          <p id="mDesc"></p>
          <div class="t">observações</div>
          <p id="mObs"></p>
        </div>

        <div class="box">
          <div class="t">ficha de vitrine</div>
          <div class="facts" id="mFacts"></div>

          <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
            <button class="btn2 primary" id="mAdd">adicionar ao carrinho</button>
            <button class="btn2 danger" id="mReq">solicitar acesso</button>
          </div>

          <div style="margin-top:12px;color:var(--muted);font-family:'Share Tech Mono',monospace;letter-spacing:1px;text-transform:uppercase;font-size:11px;line-height:1.6;">
            Nota: listagens lacradas exigem contrato verificado. Tentativas sem credencial podem acionar bloqueios automáticos do hub.
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TOASTS -->
  <div class="toastwrap" id="toasts" aria-live="polite"></div>

  <script>
    // --- Clock
    const clockEl = document.getElementById("clock");
    setInterval(() => {
      clockEl.textContent = new Date().toLocaleTimeString("pt-BR", { hour12:false });
    }, 250);

    // --- App enter
    const splash = document.getElementById("splash");
    const app = document.getElementById("app");
    const enterBtn = document.getElementById("enterBtn");
    const enterLogo = document.getElementById("enterLogo");

    function enter(){
      splash.style.opacity = "0";
      splash.style.pointerEvents = "none";
      setTimeout(() => splash.remove(), 360);
      app.classList.add("ready");
      toast("hub", "vitrine aberta", "Sessão criada em modo catálogo. Operações sensíveis exigem contrato.", "ok");
    }
    enterBtn.addEventListener("click", enter);
    enterLogo.addEventListener("click", enter);
    enterLogo.addEventListener("keydown", (e)=>{ if(e.key==="Enter"||e.key===" "){ e.preventDefault(); enter(); } });

    // --- Toast
    const toasts = document.getElementById("toasts");
    function toast(k, s, b, type=""){
      const t = document.createElement("div");
      t.className = `toast ${type}`.trim();
      t.innerHTML = `
        <div class="h"><span class="k">${k}</span><span class="s">${s}</span></div>
        <div class="b">${b}</div>
      `;
      toasts.appendChild(t);
      setTimeout(() => { t.style.opacity = "0"; t.style.transform="translateY(8px)"; }, 4200);
      setTimeout(() => t.remove(), 4600);
    }

    // --- Product data (lore-forward; no real-world ordering / no actionable instructions)
    const PRODUCTS = [
      {
        id:"VR-GLS-001",
        name:"GOTA SANTA (acesso membranal) — cápsula lacrada",
        category:"Acesso Membranal",
        tags:["lacrado","sensível","membrana","destaque"],
        locked:true,
        hot:true,
        price:"lote selado",
        glyph:"GS",
        desc:"Listagem de acesso membranal. O hub descreve a peça como “chave de percepção” e mantém o resto em tarja automática.",
        obs:"A vitrine só exibe metadados. Conteúdo completo exige contrato verificado e chave de remessa. Qualquer tentativa de aquisição sem credencial retorna negação do nó.",
        facts:{
          "classe":"LACRADO",
          "janela":"não divulgada",
          "garantia":"não aplicável",
          "rastreio":"negado",
          "origem":"vitrine espelhada"
        }
      },
      {
        id:"VR-FLD-014",
        name:"Kit de Vedação de Fenda (campo)",
        category:"Ferramentas de Campo",
        tags:["campo","vedação","médio"],
        locked:false,
        hot:true,
        price:"98 créditos de vitrine",
        glyph:"VF",
        desc:"Conjunto de materiais e módulos de selagem para contenção temporária de pequenas aberturas e vazamentos de ambiente.",
        obs:"A vitrine descreve aplicação “em perímetro” e evita detalhes. Inclui peças numeradas e instruções codificadas por lote.",
        facts:{
          "classe":"UTILITÁRIO",
          "peso":"compacto",
          "uso":"perímetro",
          "risco":"moderado",
          "origem":"oficina vidraceira"
        }
      },
      {
        id:"VR-OPT-021",
        name:"Lente de Vidro Fumê (observação)",
        category:"Óptica & Observação",
        tags:["ótica","observação","noite"],
        locked:false,
        hot:false,
        price:"44 créditos de vitrine",
        glyph:"LF",
        desc:"Lente de observação com filtros multi-camada. Boa para leitura de sinais fracos e contraste em ambientes com interferência.",
        obs:"A vitrine promete redução de “ruído” e melhora de contorno em fontes instáveis. Não substitui protocolos de segurança.",
        facts:{
          "classe":"ÓPTICA",
          "filtro":"multi-camada",
          "uso":"observação",
          "risco":"baixo",
          "selo":"VR-OK"
        }
      },
      {
        id:"VR-SUP-033",
        name:"Suprimentos: Ração de Longa Duração (48h)",
        category:"Suprimentos",
        tags:["suprimentos","campo","básico"],
        locked:false,
        hot:false,
        price:"12 créditos de vitrine",
        glyph:"48",
        desc:"Pacote de ração compacta para janelas longas. Projetado para reduzir volume e aumentar estabilidade de ingestão em ambiente hostil.",
        obs:"O hub recomenda hidratação e descanso. A lista evita especificações e foca em logística.",
        facts:{
          "classe":"SUPRIMENTO",
          "duração":"48h",
          "risco":"baixo",
          "lote":"rotativo",
          "entrega":"não exibida"
        }
      },
      {
        id:"VR-CRY-007",
        name:"Cartão de Cifra (one-time) — pacote",
        category:"Criptografia",
        tags:["cifra","comms","segredo","destaque"],
        locked:false,
        hot:true,
        price:"61 créditos de vitrine",
        glyph:"OT",
        desc:"Pacote de cartões de cifra descartáveis para sessão curta. O hub enfatiza rotatividade e redundância.",
        obs:"Compatível com o mensageiro do nó Vidraceiros (modo catálogo não envia chaves).",
        facts:{
          "classe":"CRIPTO",
          "duração":"curta",
          "rastreio":"mínimo",
          "risco":"moderado",
          "status":"disponível"
        }
      },
      {
        id:"VR-DSG-019",
        name:"Disfarce de Identidade (kit de superfície)",
        category:"Disfarces",
        tags:["disfarce","documento","lacrado"],
        locked:true,
        hot:false,
        price:"contrato requerido",
        glyph:"ID",
        desc:"Kit de superfície para redução de reconhecimento e ruído de indexação. Metadados ficam visíveis; conteúdo fica lacrado.",
        obs:"O hub oculta detalhes por política de vitrine. Solicitações sem credencial registram tentativa e podem gerar bloqueio.",
        facts:{
          "classe":"LACRADO",
          "nível":"alto",
          "rastreio":"negado",
          "status":"restrito",
          "janela":"não exibida"
        }
      },
      {
        id:"VR-ARM-000",
        name:"Arsenal (catálogo fechado)",
        category:"Arsenal",
        tags:["lacrado","fechado","restrito"],
        locked:true,
        hot:false,
        price:"indisponível",
        glyph:"Ø",
        desc:"Seção de arsenal permanece fechada nesta sessão. A vitrine só retorna a existência do índice, sem listagens.",
        obs:"Bloqueio do hub: sem contrato verificado, não há exibição de conteúdo sensível.",
        facts:{
          "classe":"FECHADO",
          "acesso":"negado",
          "índice":"visível",
          "status":"lacrado",
          "nota":"não enumerado"
        }
      },
      {
        id:"VR-REL-112",
        name:"Relíquia de Vidro (fragmento) — listagem espelhada",
        category:"Relíquias",
        tags:["relíquia","espelho","lacrado","destaque"],
        locked:true,
        hot:true,
        price:"lote selado",
        glyph:"RV",
        desc:"Objeto descrito como fragmento com “memória de reflexo”. O hub trata como espelhado: o que é dito não é o que é mostrado.",
        obs:"Listagem incompleta por design. Solicitações sem credencial retornam ruído e tarjas.",
        facts:{
          "classe":"LACRADO",
          "origem":"espelhada",
          "status":"restrito",
          "rastreio":"negado",
          "selo":"VR-MIR"
        }
      },
      {
        id:"VR-MED-055",
        name:"Kit de Primeiros Socorros (compacto)",
        category:"Suprimentos",
        tags:["médico","campo","básico"],
        locked:false,
        hot:false,
        price:"22 créditos de vitrine",
        glyph:"+",
        desc:"Kit compacto de suporte de campo para incidentes comuns. O hub trata como item de logística.",
        obs:"Sem promessas. Sem milagres. Apenas redundância.",
        facts:{
          "classe":"SUPRIMENTO",
          "peso":"leve",
          "risco":"baixo",
          "status":"disponível",
          "lote":"estável"
        }
      },
      {
        id:"VR-TOOL-090",
        name:"Cortador de Lacre (precisão)",
        category:"Ferramentas de Campo",
        tags:["ferramenta","precisão"],
        locked:false,
        hot:false,
        price:"39 créditos de vitrine",
        glyph:"CL",
        desc:"Ferramenta de precisão para abrir invólucros e lacres sem rasgar o conteúdo. Usado em inspeção e triagem.",
        obs:"A vitrine sugere uso em bancada e em campo com luvas.",
        facts:{
          "classe":"UTILITÁRIO",
          "uso":"triagem",
          "risco":"baixo",
          "status":"disponível",
          "selo":"VR-OK"
        }
      },
      {
        id:"VR-OBS-077",
        name:"Caderno de Registro (papel tratado)",
        category:"Documentação",
        tags:["registro","documento","offline"],
        locked:false,
        hot:false,
        price:"8 créditos de vitrine",
        glyph:"RG",
        desc:"Caderno de registro com folhas tratadas para reduzir borrões e absorção irregular em ambientes úmidos.",
        obs:"O hub recomenda registros offline para evitar reescrita de logs em ambientes instáveis.",
        facts:{
          "classe":"DOC",
          "modo":"offline",
          "risco":"baixo",
          "status":"disponível",
          "nota":"redundância"
        }
      },
    ];

    // --- Derived structures
    const categories = [
      "Tudo",
      "Acesso Membranal",
      "Ferramentas de Campo",
      "Óptica & Observação",
      "Suprimentos",
      "Criptografia",
      "Disfarces",
      "Documentação",
      "Relíquias",
      "Arsenal",
    ];

    // --- UI state
    let state = {
      cat: "Tudo",
      q: "",
      hotOnly: false,
      lockedOnly: false,
      cart: [],
      modalId: null
    };

    // --- Render categories
    const catList = document.getElementById("catList");
    function renderCats(){
      const counts = {};
      PRODUCTS.forEach(p => { counts[p.category] = (counts[p.category]||0)+1; });
      catList.innerHTML = categories
        .filter(c => c!=="Tudo")
        .map(c => `
          <div class="cat ${state.cat===c ? "active":""}" data-cat="${c}">
            <span>${c}</span><span class="count">${counts[c]||0}</span>
          </div>
        `).join("");

      catList.querySelectorAll(".cat").forEach(el => {
        el.addEventListener("click", () => {
          state.cat = el.dataset.cat;
          state.hotOnly = false;
          state.lockedOnly = false;
          renderAll();
          toast("filtro", "categoria", `Vitrine filtrada: <strong>${state.cat}</strong>.`, "");
        });
      });
    }

    // --- Render products
    const productsEl = document.getElementById("products");
    const countShown = document.getElementById("countShown");
    const headlineTitle = document.getElementById("headlineTitle");

    function filtered(){
      return PRODUCTS.filter(p => {
        if (state.cat !== "Tudo" && p.category !== state.cat) return false;
        if (state.hotOnly && !p.hot) return false;
        if (state.lockedOnly && !p.locked) return false;
        if (state.q){
          const hay = (p.name+" "+p.id+" "+p.category+" "+p.tags.join(" ")).toLowerCase();
          if (!hay.includes(state.q.toLowerCase())) return false;
        }
        return true;
      });
    }

    function renderProducts(){
      const list = filtered();
      countShown.textContent = list.length;
      headlineTitle.textContent =
        state.cat==="Tudo"
          ? (state.hotOnly ? "Destaques" : state.lockedOnly ? "Lacrados" : "Vitrine geral")
          : `Categoria: ${state.cat}`;

      productsEl.innerHTML = list.map(p => `
        <article class="card">
          <div class="card-top">
            <div class="thumb"><div class="glyph">${p.glyph}</div></div>
            <div class="pname">
              <h3>${p.name}</h3>
              <div class="meta">
                <span class="tag">${p.category}</span>
                <span class="tag">${p.id}</span>
                ${p.hot ? `<span class="tag hot">destaque</span>` : ``}
                ${p.locked ? `<span class="tag lock">lacrado</span>` : ``}
              </div>
            </div>
          </div>

          <div class="desc">${p.desc}</div>

          <div class="card-actions">
            <div class="price">preço: <span style="color:#eafffb">${p.price}</span></div>
            <div class="cta">
              <button class="btn2" data-details="${p.id}">detalhes</button>
              <button class="btn2 primary" data-add="${p.id}">adicionar</button>
            </div>
          </div>
        </article>
      `).join("");

      productsEl.querySelectorAll("[data-details]").forEach(b => b.addEventListener("click", () => openModal(b.dataset.details)));
      productsEl.querySelectorAll("[data-add]").forEach(b => b.addEventListener("click", () => tryAddToCart(b.dataset.add)));
    }

    // --- Modal
    const modal = document.getElementById("modal");
    const mTitle = document.getElementById("mTitle");
    const mMeta = document.getElementById("mMeta");
    const mDesc = document.getElementById("mDesc");
    const mObs = document.getElementById("mObs");
    const mFacts = document.getElementById("mFacts");
    const mClose = document.getElementById("mClose");
    const mAdd = document.getElementById("mAdd");
    const mReq = document.getElementById("mReq");

    function openModal(id){
      state.modalId = id;
      const p = PRODUCTS.find(x => x.id===id);
      if (!p) return;

      mTitle.textContent = p.name;
      mMeta.innerHTML = `
        <span class="tag">${p.category}</span>
        <span class="tag">${p.id}</span>
        ${p.hot ? `<span class="tag hot">destaque</span>` : ``}
        ${p.locked ? `<span class="tag lock">lacrado</span>` : ``}
      `;
      mDesc.textContent = p.desc;
      mObs.textContent = p.obs;

      const facts = Object.entries(p.facts).map(([k,v]) => `
        <div class="f"><span style="color:var(--muted)">${k}:</span><span>${v}</span></div>
      `).join("");
      mFacts.innerHTML = facts;

      modal.classList.add("show");
    }
    function closeModal(){
      modal.classList.remove("show");
      state.modalId = null;
    }
    mClose.addEventListener("click", closeModal);
    modal.addEventListener("click", (e)=>{ if(e.target===modal) closeModal(); });
    window.addEventListener("keydown", (e)=>{ if(e.key==="Escape" && modal.classList.contains("show")) closeModal(); });

    mAdd.addEventListener("click", ()=>{ if(state.modalId) tryAddToCart(state.modalId); });
    mReq.addEventListener("click", ()=>{
      const p = PRODUCTS.find(x => x.id===state.modalId);
      if (!p) return;
      // In-universe: always blocked in this build (no transaction mechanics)
      toast("hub", "acesso negado", "Contrato não verificado. O nó registrou a solicitação e retornou tarja automática.", "bad");
      logMsg("[hub] Solicitação recusada: credencial ausente.", "bad");
    });

    // --- Cart
    const cartEl = document.getElementById("cart");
    const cartCount = document.getElementById("cartCount");

    function renderCart(){
      cartCount.textContent = state.cart.length;
      if (!state.cart.length){
        cartEl.innerHTML = `<div style="color:var(--muted);font-family:'Share Tech Mono',monospace;letter-spacing:1px;text-transform:uppercase;font-size:11px;line-height:1.6;">
          Carrinho vazio. Use “adicionar” nos lotes.
        </div>`;
        return;
      }
      cartEl.innerHTML = state.cart.map((id, idx) => {
        const p = PRODUCTS.find(x=>x.id===id);
        return `
          <div class="cart-item">
            <div class="n">${p ? p.name : id}</div>
            <div class="m">${p ? p.id : ""} • ${p ? p.price : ""}</div>
            <div style="margin-top:8px; display:flex; gap:10px; flex-wrap:wrap;">
              <button class="btn2" data-rm="${idx}">remover</button>
              <button class="btn2 primary" data-open="${id}">detalhes</button>
            </div>
          </div>
        `;
      }).join("");

      cartEl.querySelectorAll("[data-rm]").forEach(b => b.addEventListener("click", ()=>{
        const idx = Number(b.dataset.rm);
        state.cart.splice(idx,1);
        renderCart();
      }));
      cartEl.querySelectorAll("[data-open]").forEach(b => b.addEventListener("click", ()=>openModal(b.dataset.open)));
    }

    function tryAddToCart(id){
      const p = PRODUCTS.find(x => x.id===id);
      if (!p) return;

      // In-universe gating: locked items cannot be added
      if (p.locked){
        toast("vitrine", "lacrado", "Este lote está lacrado nesta sessão. O hub retornou negação automática.", "bad");
        logMsg(`[hub] Negado: ${p.id} está lacrado (sessão sem contrato).`, "bad");
        return;
      }

      state.cart.push(id);
      renderCart();
      toast("carrinho", "adicionado", `${p.name} entrou no carrinho.`, "ok");
      logMsg(`[hub] Item adicionado ao carrinho: ${p.id}.`, "ok");
    }

    // Checkout: always blocked (no real ordering / no facilitation)
    document.getElementById("checkout").addEventListener("click", ()=>{
      if (!state.cart.length){
        toast("carrinho", "vazio", "Nada para finalizar.", "");
        return;
      }
      toast("hub", "operação bloqueada", "Finalização indisponível nesta sessão. Contrato verificado exigido.", "bad");
      logMsg("[hub] Finalização recusada: modo catálogo.", "bad");
    });

    document.getElementById("empty").addEventListener("click", ()=>{
      state.cart = [];
      renderCart();
      toast("carrinho", "limpo", "Carrinho esvaziado.", "");
    });

    // --- Search & quick filters
    const q = document.getElementById("q");
    q.addEventListener("input", () => { state.q = q.value.trim(); renderProducts(); });

    document.getElementById("btnClear").addEventListener("click", ()=>{
      state.q = ""; q.value = "";
      state.hotOnly = false; state.lockedOnly = false;
      renderAll();
      toast("filtro", "limpo", "Filtros resetados.", "");
    });

    document.getElementById("btnAll").addEventListener("click", ()=>{
      state.cat="Tudo";
      state.hotOnly=false;
      state.lockedOnly=false;
      renderAll();
      toast("filtro", "tudo", "Exibindo vitrine geral.", "");
    });

    document.getElementById("btnHot").addEventListener("click", ()=>{
      state.cat="Tudo";
      state.hotOnly = true;
      state.lockedOnly = false;
      renderAll();
      toast("filtro", "destaques", "Exibindo itens em destaque.", "");
    });

    document.getElementById("btnLocked").addEventListener("click", ()=>{
      state.cat="Tudo";
      state.lockedOnly = true;
      state.hotOnly = false;
      renderAll();
      toast("filtro", "lacrados", "Exibindo listagens lacradas (metadados).", "");
    });

    // --- Messages
    const msglog = document.getElementById("msglog");
    function logMsg(text, kind=""){
      const div = document.createElement("div");
      div.className = `msgline ${kind}`.trim();
      div.textContent = text;
      msglog.appendChild(div);
      msglog.scrollTop = msglog.scrollHeight;
    }

    const msg = document.getElementById("msg");
    document.getElementById("send").addEventListener("click", sendMsg);
    msg.addEventListener("keydown", (e)=>{ if(e.key==="Enter") sendMsg(); });

    function sendMsg(){
      const t = msg.value.trim();
      if (!t) return;
      msg.value = "";

      logMsg(`[você] ${t}`, "");
      // In-universe: block sending to vendors
      setTimeout(()=>{
        logMsg("[hub] Canal de vendedor indisponível nesta sessão. (exige contrato)", "dim");
        toast("mensagens", "restrito", "Sem chave de contrato, o hub não abre canal com vendedores.", "bad");
      }, 260);
    }

    // --- Render all
    function renderAll(){
      renderCats();
      renderProducts();
      renderCart();
    }
    renderAll();
  </script>
</body>
</html>
